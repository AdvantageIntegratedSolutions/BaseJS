function BaseConnect(e){this.config=e,this.inverseTables=BaseHelpers.inverseTables(e.tables),this.apptoken=e.token,this.async=e.async||!1,this.databaseId=e.databaseId,this.username=e.username,this.password=e.password,this.quickstartConfig=e.quickstart||!1,this.ticket=e.ticket,this.realm=e.realm,this.proxies={local:"https://i460ti6d92.execute-api.us-east-1.amazonaws.com/prod",quickstart:"https://zzcogtljc7.execute-api.us-east-1.amazonaws.com/prod/proxy"},_self=this,this.post=function(e,t,a){var i=e.type||"API",r=i+"_"+e.action,n=this.buildPostData(e.dbid,e),s="";return s=e.dbid?this.config&&"main"!=e.dbid?e.dbid==this.databaseId?this.databaseId:this.config.tables[e.dbid].dbid:e.dbid:"main",this.xmlPost(s,r,n,t,a)},this.generateQuickbaseQuery=function(e){var t=[],a=function(e,t){return"{'"+e+"'.EX.'"+t+"'}"},i=function(e,t){for(var a=Object.keys(t),i=[],r=0;r<a.length;r++){var n=a[r],s=t[n],o="";if("in"==n){var i=[];s.forEach(function(t){i.push("{'"+e+"'.EX.'"+t+"'}")}),o="("+i.join("OR")+")"}else o="{'"+e+"'."+n+".'"+s+"'}";i.push(o)}return i.join("AND")},r=function(e,t){var r=[];return t.forEach(function(e){var t=Object.keys(e)[0],n=e[t];if("object"==typeof n){var e=i(t,n);r.push(e)}else{var e=a(t,n);r.push(e)}}),"("+r.join("OR")+")"};for(var n in e){var s=e[n],o="";o="or"==n?r(n,s):"object"==typeof s?i(n,s):a(n,e[n]),t.push(o)}return t=t.join("AND")},this.replaceFieldNames=function(e,t){var a=this.config;return e=e.split(/(}AND|\)AND|}OR|\)OR)/).map(function(e){if(!/(}AND|\)AND|}OR|\)OR)/.test(e)){var i=e.match(/\{'*(.*)'\..*'/)[1];if(isNaN(i)){var r=a.tables[t][i];e=e.replace(i,r)}}return e}),e.join("")},this.replaceOptionFieldNames=function(e,t){var a=this.config;return e=e.split("."),e=e.map(function(e){if(isNaN(e)){var i=a.tables[t][e];return i}return e}),e.join(".")},this.handleXMLCharacters=function(e){return"string"==typeof e&&(e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")),e},this.buildPostData=function(e,t){var a=["<qdbapi>"];this.apptoken&&a.push(this.createParameter("apptoken",this.apptoken)),this.username&&!this.ticket&&(a.push(this.createParameter("username",this.username)),a.push(this.createParameter("password",this.password))),this.ticket&&a.push(this.createParameter("ticket",this.ticket));for(var i in t.params){var r=t.params[i];"clist"==i||"slist"==i||"options"==i?("object"==typeof r&&(r=r.join(".")),!this.config||"clist"!=i&&"slist"!=i||r&&(r=this.replaceOptionFieldNames(r,e))):"query"==i&&(r=this.generateQuickbaseQuery(r),this.config&&(r=this.replaceFieldNames(r,e)),i="query"),r&&a.push(this.createParameter(i,r))}for(field in t.fieldParams){if(this.config)var n=this.config.tables[e][field];else var n=field;var s=this.handleXMLCharacters(t.fieldParams[field]);a.push(this.createFieldParameter(n,s))}for(i in t.fidParams)a.push(this.createFidParameter(i,t.fidParams[i]));return t.csvData&&a.push(this.createCSVParameter(t.csvData)),a.push("</qdbapi>"),a=a.join(""),this.username||this.quickstartConfig?{xml:a}:a},this.getNode=function(e,t){return $(e).find(t).text()},this.getRecords=function(e,t){for(var a=$(t).find("records").find("record"),i=[],r=0;r<a.length;r++){var n=a[r],s=$(n).find("f");n={};for(var o=0;o<s.length;o++){var d=s[o],c=parseInt($(d).attr("id"));if(""!=$(d).find("url").text())var h=$(d).find("url").text(),u=h.split("/"),l=u[u.length-1],f={filename:l,url:h};else var f=$(d).text();if(this.config){var p=this.inverseTables[e];p[c]&&(c=p[c.toString()],n[c]=f)}else n[c]=f}i.push(n)}return i},this.getRids=function(e){for(var t=$(e).find("records").find("record"),a=[],i=0;i<t.length;i++){var r=t[i];a.push($(r).find('f[id="3"]').text())}return a},this.getNewRids=function(e){for(var t=$(e).find("rids").find("rid"),a=[],i=0;i<t.length;i++){var r=parseInt($(t[i]).text());a.push(r)}return a},this.getFields=function(e){for(var t=$(e).find("fields").find("field"),a={},i=0;i<t.length;i++){var r=t[i],n={fid:$(r).attr("id"),fieldType:$(r).attr("field_type"),label:$(r).find("label").text(),nowrap:$(r).find("nowrap").text(),bold:$(r).find("bold").text(),required:$(r).find("required").text(),appears_by_default:$(r).find("appears_by_default").text(),find_enabled:$(r).find("find_enabled").text(),allow_new_choices:$(r).find("allow_new_choices").text(),sort_as_given:$(r).find("sort_as_given").text(),carrychoices:$(r).find("carrychoices").text(),foreignkey:$(r).find("foreignkey").text(),unique:$(r).find("unique").text(),doesdatacopy:$(r).find("doesdatacopy").text(),fieldhelp:$(r).find("fieldhelp").text(),display_user:$(r).find("display_user").text(),default_kind:$(r).find("default_kind").text()},s=$(r).find("choices").find("choice");if(s.length>0){for(var o=[],d=0;d<s.length;d++){var c=$(s[d]).text();o.push(c)}n.choices=o}a[$(r).attr("id")]=n}return a},this.getReports=function(e){for(var t=$(e).find("queries").find("query"),a={},i=0;i<t.length;i++){var r=t[i],n={name:$(r).find("qyname").text(),type:$(r).find("qytype").text(),criteria:$(r).find("qycrit").text(),clist:$(r).find("qyclst").text(),slist:$(r).find("qyslst").text(),options:$(r).find("qyopts").text()};a[$(r).attr("id")]=n}return a},this.formatUserRoles=function(e){for(var t=$(e).find("users").find("user"),a=[],i=0;i<t.length;i++){for(var r=t[i],n=$(r).find("roles").find("role"),s=[],o=0;o<n.length;o++){var d=n[o],c={id:$(d).attr("id"),name:$(d).find("name").text(),accessId:$(d).find("access").attr("id"),access:$(d).find("access").text()};s.push(c)}var h={id:$(r).attr("id"),firstName:$(r).find("firstName").text(),lastName:$(r).find("lastName").text(),lastAccess:$(r).find("lastAccess").text(),lastAccessAppLocal:$(r).find("lastAccessAppLocal").text(),roles:s};a.push(h)}return a},this.createParameter=function(e,t){return"<"+e+">"+t+"</"+e+">"},this.createFieldParameter=function(e,t){var a="<field fid='"+e+"'";return t?t.filename?(a+=" filename='"+t.filename+"'>",a+=1==t.ignoreEncoding?t.body:this.base64Encode(t.body)):(a+=">",a+=t):a+=">",a+="</field>"},this.createFidParameter=function(e,t){return"<_fid_"+e+">"+t+"</_fid_"+e+">"},this.createCSVParameter=function(e){return"<records_csv><![CDATA["+e+"]]></records_csv>"},this.base64Encode=function(e){for(var t,a,i,r,n,s,o,d="",c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",h=0,u=e.replace(/\r\n/g,"\n"),l="",f=0;f<u.length;f++){var p=u.charCodeAt(f);128>p?l+=String.fromCharCode(p):p>127&&2048>p?(l+=String.fromCharCode(p>>6|192),l+=String.fromCharCode(63&p|128)):(l+=String.fromCharCode(p>>12|224),l+=String.fromCharCode(p>>6&63|128),l+=String.fromCharCode(63&p|128))}for(e=l;h<e.length;)t=e.charCodeAt(h++),a=e.charCodeAt(h++),i=e.charCodeAt(h++),r=t>>2,n=(3&t)<<4|a>>4,s=(15&a)<<2|i>>6,o=63&i,isNaN(a)?s=o=64:isNaN(i)&&(o=64),d=d+c.charAt(r)+c.charAt(n)+c.charAt(s)+c.charAt(o);return d},this.quickstartPost=function(e,t,a,i,r,n){if(n){var s={dbid:i,realm:this.realm,action:r,apptoken:this.apptoken};s.xml=e.xml,s.quickstartAction="Proxy",s.ticket=JSON.parse(BaseHelpers.getCookie("quickstart_session")).ticket}else var s=e;s=JSON.stringify(s);var o={url:this.proxies.quickstart,data:s,dataType:"text",type:"POST",contentType:"application/json"};if("callback"==this.async)o.success=function(e){return e=JSON.parse(e),e=e.data||e,t(e.error?e:a(e))},$.ajax(o);else if("promise"==this.async)return o.dataType="text",o.dataFilter=function(e){return e=JSON.parse(e),e=e.data||e,e.error?e:a(e)},$.ajax(o)},this.qbaseResponseCode=function(e){var t=$(e).find("errcode").text(),a=$(e).find("errtext").text();return a+=", "+$(e).find("errdetail").text(),{error:{code:t,message:a}}},this.xmlPost=function(e,t,a,i,r){if(this.quickstartConfig)return _self.quickstartPost(a,i,r,e,t,!0);var n="/db/"+e+"?act="+t,s={url:n,data:a,dataType:"xml",type:"POST",context:this,contentType:"text/xml"};if(this.username&&(a.realm=this.realm,a.call=t,a.apptoken=this.apptoken||"",a.dbid=e,s.dataType="text",s.contentType="application/json",s.url=this.proxies.local,s.data=JSON.stringify(a)),"callback"!=this.async){if("promise"==this.async)return s.dataType="text",s.dataFilter=function(e){var t=_self.qbaseResponseCode(e);return"0"!=t.error.code?t:r(e)},$.ajax(s);var o=null;return s.success=function(e){var t=this.qbaseResponseCode(e);o="0"!=t.error.code?t:r(e)},s.error=function(e){return i({error:{code:"503",message:"Service Unavailable."}})},s.async=!1,$.ajax(s),o}s.success=function(e){var t=this.qbaseResponseCode(e);return i("0"!=t.error.code?t:r(e))},s.error=function(e){return i({error:{code:"503",message:"Service Unavailable."}})},$.ajax(s)}}function Base(e){var t=new BaseConnect(e);this.databaseId=e.databaseId,this.Table=function(e,a){this.removeQuickstartConfig=function(e){return delete e.quickstart_users,delete e.quickstart_username,delete e.quickstart_password,delete e.quickstart_key,e},t.config.quickstart&&(a=this.removeQuickstartConfig(a)),this[e]=a,this.tableName=e,this.dbid=a.dbid,this.doQuery=function(a,i,r,n){var s=this.tableName;this.handle=function(e){return t.getRecords(s,e,"records")};var o={fmt:"structured",returnpercentage:"1"};if(a){var d=!isNaN(a);d?o.qid=a:o.query=a}else o.query="{'3'.XEX.''}";if(i)var c=i.clist;else var i={};if(t.config&&!c){var h=t.config.tables[s],c=[];for(e in h){var u=h[e];isNaN(u)||c.push(e)}i.clist=c.join(".")}o.clist=i.clist,o.slist=i.slist,o.options=i.options;var l={dbid:s,action:"DoQuery",params:o};return n&&(this.handle=n),t.post(l,r,this.handle)},this.find=function(e,a){var i=this.tableName;if(this.handle=function(e){var a=t.getRecords(i,e,"records");return a.length>0?a.length>1?a:a[0]:{}},"[object Array]"==Object.prototype.toString.call(e))var r={3:{"in":e}};else var r={3:e};return this.doQuery(r,null,a,this.handle)},this.first=function(e,a,i){var r=this.tableName;return this.handle=function(e){var a=t.getRecords(r,e,"records");return a.length>0?a[0]:{}},this.doQuery(e,a,i,this.handle)},this.last=function(e,a,i){var r=this.tableName;return this.handle=function(e){var a=t.getRecords(r,e,"records");return a.length>0?a[a.length-1]:{}},this.doQuery(e,a,i,this.handle)},this.all=function(e,a){var i=this.tableName;return this.handle=function(e){var a=t.getRecords(i,e,"records");return a.length>0?a:{}},this.doQuery({3:{XEX:""}},e,a,this.handle)},this.getRids=function(e,a){return this.handle=function(e){return t.getRids(e)},params={clist:"3"},e||(e={3:{XEX:""}}),this.doQuery(e,params,a,this.handle)},this.doQueryCount=function(e,a){this.handle=function(e){return t.getNode(e,"numMatches")};var i={dbid:this.tableName,action:"DoQueryCount",params:{query:e}};return t.post(i,a,this.handle)},this.addRecord=function(e,a){this.handle=function(e){return parseInt(t.getNode(e,"rid"))};var i={dbid:this.tableName,action:"AddRecord",fieldParams:e};return t.post(i,a,this.handle)},this.editRecord=function(e,a,i){this.handle=function(e){var a=t.getNode(e,"rid");return!!a};var r={dbid:this.tableName,action:"EditRecord",fieldParams:a,params:{rid:e}};return t.post(r,i,this.handle)},this.changeRecordOwner=function(e,a,i){this.handle=function(e){return!0};var r={dbid:this.tableName,action:"ChangeRecordOwner",params:{rid:e,newowner:a}};return t.post(r,i,this.handle)},this.copyMasterDetail=function(e,a){this.handle=function(e){return t.getNode(e,"parentrid")};var i={dbid:this.tableName,action:"CopyMasterDetail",params:e};return t.post(i,a,this.handle)},this.getRecordInfo=function(e,a){this.handle=function(e){for(var a={},i=$(e).find("field"),r=0;r<i.length;r++){var n=i[r],s={name:t.getNode(n,"name"),type:t.getNode(n,"type"),value:t.getNode(n,"value")};a[$(n).find("fid").text()]=s}var o={rid:t.getNode(e,"rid"),num_fields:t.getNode(e,"num_fields"),update_id:t.getNode(e,"update_id"),fields:a};return o};var i={dbid:this.tableName,action:"GetRecordInfo",params:{rid:e}};return t.post(i,a,this.handle)},this.deleteRecord=function(e,a){this.handle=function(e){var a=t.getNode(e,"rid");return!!a};var i={dbid:this.tableName,action:"DeleteRecord",params:{rid:e}};return t.post(i,a,this.handle)},this.purgeRecords=function(e,a){this.handle=function(e){var a=t.getNode(e,"num_records_deleted");return parseInt(a)};var i={dbid:this.tableName,action:"PurgeRecords",params:{query:e}};return t.post(i,a,this.handle)},this.importFromCSV=function(a,i){this.handle=function(e){return t.getNewRids(e)};var r="",n=[];for(e in a[0])t.config&&(tableConfig=t.config.tables[this.tableName],e=tableConfig[e]),n.push(e);n=n.join(".");for(var s=0;s<a.length;s++){var o=a[s],d=[];for(e in o)value=o[e],value=value.toString().replace(/"/g,'""'),d.push('"'+value+'"');d.join(","),d+="\n",r+=d}var c={dbid:this.tableName,action:"ImportFromCSV",params:{clist:n},csvData:r};return t.post(c,i,this.handle)},this.getTableFields=function(e){this.handle=function(e){return t.getFields(e)};var a={dbid:this.tableName,action:"GetSchema"};return t.post(a,e,this.handle)},this.genAddRecordForm=function(e,a){this.handle=function(e){return e};var i={dbid:this.tableName,action:"GenAddRecordForm",fidParams:e};return t.post(i,a,this.handle)},this.getNumRecords=function(e){this.handle=function(e){return parseInt(t.getNode(e,"num_records"))};var a={dbid:this.tableName,action:"GetNumRecords"};return t.post(a,e,this.handle)},this.setFieldProperties=function(e,a,i){this.handle=function(e){var a=t.getNode(e,"errcode");return 0==a},a.fid=e;var r={dbid:this.tableName,action:"SetFieldProperties",params:a};return t.post(r,i,this.handle)},this.getTableReports=function(e){this.handle=function(e){return t.getReports(e)};var a={dbid:this.tableName,action:"GetSchema"};return t.post(a,e,this.handle)}},this.setTables=function(e){for(var t in e)this[t]=new this.Table(t,e[t])},this.setTables(e.tables),this.getOneTimeTicket=function(e){this.handle=function(e){return t.getNode(e,"ticket")};var a={action:"GetOneTimeTicket"};return t.post(a,e,this.handle)},this.authenticate=function(e,a,i){this.handle=function(e){return t.getNode(e,"ticket")};var r={action:"Authenticate",params:{hours:a}};return e.ticket&&(r.ticket=e.ticket),e.username&&e.password&&(r.username=e.username,r.password=e.password),t.post(r,i,this.handle)},this.signOut=function(e){this.handle=function(e){var a=t.getNode(e,"errcode");return"0"==a};var a={action:"SignOut"};return t.post(a,e,this.handle)},this.getDBVar=function(e,a){this.handle=function(e){return t.getNode(e,"value")};var i={dbid:this.databaseId,action:"GetDBvar",params:{varname:e}};return t.post(i,a,this.handle)},this.setDBVar=function(e,a,i){this.handle=function(e){return!0};var r={dbid:this.databaseId,action:"SetDBvar",params:{varname:e,value:a}};return t.post(r,i,this.handle)},this.uploadPage=function(e,a,i,r){this.handle=function(e){return t.getNode(e,"pageID")};var n={pagetype:"1",pagebody:i};e?n.pageid=e:a&&(n.pagename=a);var s={dbid:this.databaseId,action:"AddReplaceDBPage",params:n};return t.post(s,r,this.handle)},this.deletePage=function(e,a){this.handle=function(e){var a=t.getNode(e,"errcode");return"0"==a};var i={dbid:this.databaseId,action:"PageDelete",type:"QBI",params:{pageid:e}};return t.post(i,a,this.handle)},this.getDbPage=function(e,a){this.handle=function(e){return t.getNode(e,"pagebody")};var i={dbid:this.databaseId,action:"GetDBPage",type:"API",params:{pageID:e}};return t.post(i,a,this.handle)},this.cloneDatabase=function(e,a){this.handle=function(e){return t.getNode(e,"newdbid")};var i={dbid:this.databaseId,action:"CloneDatabase",type:"API",params:e};return t.post(i,a,this.handle)},this.createDatabase=function(e,a,i,r){this.handle=function(e){return t.getNode(e,"dbid")};var n={action:"CreateDatabase",type:"API",params:{dbname:e,dbdesc:a,createapptoken:i||!1}};return t.post(n,r,this.handle)},this.deleteDatabase=function(e){this.handle=function(e){var a=t.getNode(e,"errcode");return"0"==a};var a={dbid:this.databaseId,action:"DeleteDatabase",type:"API"};return t.post(a,e,this.handle)},this.renameApp=function(e,a){this.handle=function(e){var a=t.getNode(e,"errcode");return"0"==a};var i={dbid:this.databaseId,action:"RenameApp",type:"API",params:{newappname:e}};return t.post(i,a,this.handle)},this.findDbByName=function(e,a){this.handle=function(e){return t.getNode(e,"dbid")};var i={action:"FindDBByName",type:"API",params:{dbname:e}};return t.post(i,a,this.handle)},this.getTables=function(e){this.handle=function(e){for(var t=$(e).find("table").find("chdbid"),a={},i=0;i<t.length;i++){var r=t[i],n=$(r).attr("name"),s=$(r).text();a[n]=s}return a};var a={dbid:this.databaseId,action:"GetSchema",type:"API"};return t.post(a,e,this.handle)},this.getAppDtmInfo=function(e){this.handle=function(e){for(var a={},i=$(e).find("tables").find("table"),r=0;r<i.length;r++){var n=i[r],s={lastModifiedTime:$(n).find("lastModifiedTime").text(),lastRecModTime:$(n).find("lastRecModTime").text()};a[$(n).attr("id")]=s}var o={requestTime:t.getNode(e,"RequestTime"),requestNextAllowedTime:t.getNode(e,"RequestNextAllowedTime"),lastModifiedTime:t.getNode(e,"lastModifiedTime"),lastRecModTime:t.getNode(e,"lastRecModTime"),tables:a};return o};var a={action:"GetAppDTMInfo",type:"API",params:{dbid:this.databaseId}};return t.post(a,e,this.handle)},this.getDbInfo=function(e){this.handle=function(e){var a={dbname:t.getNode(e,"dbname"),lastRecModTime:t.getNode(e,"lastRecModTime"),createdTime:t.getNode(e,"createdTime"),numRecords:t.getNode(e,"numRecords"),mgrID:t.getNode(e,"mgrID"),mgrName:t.getNode(e,"mgrName"),version:t.getNode(e,"version"),time_zone:t.getNode(e,"time_zone")};return a};var a={dbid:this.databaseId,action:"GetDBInfo",type:"API"};return t.post(a,e,this.handle)},this.grantedDbs=function(e,a){this.handle=function(e){for(var a=[],i=$(e).find("databases").find("dbinfo"),r=0;r<i.length;r++){var n=i[r],s={dbname:t.getNode(n,"dbname"),dbid:t.getNode(n,"dbid")};a.push(s)}return a};var i={action:"GrantedDBs",type:"API",params:e};return t.post(i,a,this.handle)},this.getUserInfo=function(e,a,i){this.handle=function(e){var t=$(e).find("user");return t={id:$(t).attr("id"),firstName:$(t).find("firstName").text(),lastName:$(t).find("lastName").text(),login:$(t).find("login").text(),email:$(t).find("email").text(),screenName:$(t).find("screenName").text(),isVerified:$(t).find("isVerified").text(),externalAuth:$(t).find("externalAuth").text()}},e||(e="");var r={dbid:"main",action:"GetUserInfo",params:{email:e}};return t.post(r,a,this.handle)},this.getUserRoles=function(e){this.handle=function(e){return t.formatUserRoles(e)};var a={dbid:this.databaseId,action:"UserRoles"};return t.post(a,e,this.handle)},this.changeUserRole=function(e,a,i,r){this.handle=function(e){return!0};var n={dbid:this.databaseId,action:"ChangeUserRole",params:{userId:e,roleId:a}};return i&&(n.params.newRoleId=i),t.post(n,r,this.handle)},this.quickstart={register:function(t,a){return this.handler=function(e){return e.ticket?BaseHelpers.setCookie("quickstart_session",JSON.stringify(e),2):BaseHelpers.setCookie("quickstart_session","",-1),e},t.quickstartAction="Register",t.appToken=e.token,t.realm=e.realm,t.dbid=e.databaseId,_self.quickstartPost(t,a,this.handler)},signIn:function(t,a){return this.handler=function(e){return e.ticket?BaseHelpers.setCookie("quickstart_session",JSON.stringify(e),2):BaseHelpers.setCookie("quickstart_session","",-1),e},t.quickstartAction="SignIn",t.appToken=e.token,t.realm=e.realm,t.dbid=e.databaseId,_self.quickstartPost(t,a,this.handler)},signOut:function(e){BaseHelpers.setCookie("quickstart_session","",-1),e&&e(!0)},changePassword:function(t,a){return this.handler=function(e){return e},t.ticket=JSON.parse(BaseHelpers.getCookie("quickstart_session")).ticket,t.quickstartAction="ChangePassword",t.realm=e.realm,t.dbid=e.databaseId,_self.quickstartPost(t,a,this.handler)}}}var BaseHelpers={options:{timeZone:"utc",format:"hours"},setCookie:function(e,t,a){var i=new Date;i.setTime(i.getTime()+60*a*60*1e3);var r="expires="+i.toUTCString();document.cookie=e+"="+t+"; "+r},getCookie:function(e){for(var e=e+"=",t=document.cookie.split(";"),a=0;a<t.length;a++){for(var i=t[a];" "==i.charAt(0);)i=i.substring(1);if(0==i.indexOf(e))return i.substring(e.length,i.length)}return""},inverseTables:function(e){var t={};for(var a in e){var i={};for(var r in e[a])i[e[a][r].toString()]=r;t[a]=i}return t},getUrlParam:function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)"),a=t.exec(location.search);return null==a?"":decodeURIComponent(a[1].replace(/\+/g," "))},formatDateElement:function(e){return e=e.toString(),1==e.length&&(e="0"+e),e},dateToString:function(e){if(e){var t=new Date(parseInt(e)),a=this.formatDateElement(t.getUTCMonth()+1),i=this.formatDateElement(t.getUTCDate());return t=[a,i,t.getUTCFullYear()].join("-")}return" "},dateTimeToString:function(e,t){var a=new Date,t=t?t.toLowerCase().trim():this.options.timeZone.toLowerCase();Date.prototype.stdTimezoneOffset=function(){var e=new Date(this.getFullYear(),0,1),t=new Date(this.getFullYear(),6,1);return Math.max(e.getTimezoneOffset(),t.getTimezoneOffset())},Date.prototype.dst=function(){return this.getTimezoneOffset()<this.stdTimezoneOffset()};var i={utc:0,eastern:a.dst()?-4:-5,central:a.dst()?-5:-6,mountain:a.dst()?-6:-7,pacific:a.dst()?-7:-8},r=i[t];if(e){var n=new Date(parseInt(e)+36e5*r),s=(this.formatDateElement(n.getUTCFullYear),this.formatDateElement(n.getUTCMonth()+1)),o=this.formatDateElement(n.getUTCDate()),d=this.formatDateElement(n.getUTCHours()),c=this.formatDateElement(n.getUTCMinutes()),h=(this.formatDateElement(n.getUTCSeconds()),[s,o,n.getUTCFullYear()].join("-")),u=parseInt(d)>=12?"PM":"AM";return d%=12,d=d?d:12,h+=" ",h+=[d,c].join(":"),h+=" "+u}return""},durationToString:function(e,t){var a,i=parseInt(e),t=t?t.trim().toLowerCase():this.options.format.toLowerCase(),r={days:function(){return i/864e5},hours:function(){return i/36e5},minutes:function(){return i/6e4},seconds:function(){return i/1e3}};return e?(r[t]?a=r[t]():(a=r.hours(),console.log("The format parameter passed to BaseHelpers.durationToString() was incorrect. Using the format for 'hours' instead.")),a=Math.round(100*a)/100,a.toString()):""},timeOfDayToString:function(e){var t="";t=new Date,t.setHours(""),t.setMinutes(""),t.setSeconds(""),t.setMilliseconds(e);var a=t.getHours().toString(),i=t.getMinutes().toString(),r=a>12?"pm":"am";return a%=12,a=a?a:12,i=i.length>1?i:"0"+i,t=a+":"+i+" "+r},redirectToEditForm:function(e,t,a){var a=a||"";window.location=a+"/db/"+e+"?a=er&rid="+t},redirectToViewForm:function(e,t,a){var a=a||"";window.location=a+"/db/"+e+"?a=dr&rid="+t},downloadFile:function(e,t,a,i){var i=i||0;window.location="https://www.quickbase.com/up/"+e+"/a/r"+t+"/e"+a+"/v"+i}};
//# sourceMappingURL=maps/base.min.js.map
