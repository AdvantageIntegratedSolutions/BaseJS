function BaseConnect(t){this.config=t,this.inverseTables=BaseHelpers.inverseTables(t.tables),this.apptoken=t.apptoken,this.usertoken=t.usertoken,this.async=t.async||!1,this.databaseId=t.databaseId,this.username=t.username,this.password=t.password,this.quickstartConfig=t.quickstart||!1,this.ticket=t.ticket,this.realm=t.realm,this.proxies={local:"https://i460ti6d92.execute-api.us-east-1.amazonaws.com/prod",quickstart:"https://zzcogtljc7.execute-api.us-east-1.amazonaws.com/prod/proxy",quickstartDev:"https://zzcogtljc7.execute-api.us-east-1.amazonaws.com/dev/proxy"},_self=this,this.post=function(t,e,a){var r=t.type||"API",i=r+"_"+t.action,n=this.buildPostData(t.dbid,t),s="";return s=t.dbid?this.config&&"main"!=t.dbid?t.dbid==this.databaseId?this.databaseId:this.config.tables[t.dbid].dbid:t.dbid:"main",this.xmlPost(s,i,n,e,a)},this.generateQuickbaseQuery=function(t){var e=[],a=function(t,e){return"{'"+t+"'.EX.'"+e+"'}"},r=function(t,e){for(var a=Object.keys(e),r=[],i=0;i<a.length;i++){var n=a[i],s=e[n],o="";if("in"==n){var r=[];s.forEach(function(e){r.push("{'"+t+"'.EX.'"+e+"'}")}),o="("+r.join("OR")+")"}else o="{'"+t+"'."+n+".'"+s+"'}";r.push(o)}return r.join("AND")},i=function(t,e){var i=[];return e.forEach(function(t){var e=Object.keys(t)[0],n=t[e];if("object"==typeof n){var t=r(e,n);i.push(t)}else{var t=a(e,n);i.push(t)}}),"("+i.join("OR")+")"};for(var n in t){var s=t[n],o="";o="or"==n?i(n,s):"object"==typeof s?r(n,s):a(n,t[n]),e.push(o)}return e=e.join("AND")},this.replaceFieldNames=function(t,e){var a=this.config;return t=t.split(/(}AND|\)AND|}OR|\)OR)/).map(function(t){if(!/(}AND|\)AND|}OR|\)OR)/.test(t)){var r=t.match(/\{'*(.*)'\..*'/)[1];if(isNaN(r)){var i=a.tables[e][r];t=t.replace(r,i)}}return t}),t.join("")},this.replaceOptionFieldNames=function(t,e){var a=this.config;return t=t.split("."),t=t.map(function(t){if(isNaN(t)){var r=a.tables[e][t];return r}return t}),t.join(".")},this.handleXMLCharacters=function(t){return"string"==typeof t&&(t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")),t},this.buildPostData=function(t,e){var a=["<qdbapi>"];this.apptoken&&a.push(this.createParameter("apptoken",this.apptoken)),this.usertoken&&a.push(this.createParameter("usertoken",this.usertoken)),!this.username||this.ticket||this.usertoken||(a.push(this.createParameter("username",this.username)),a.push(this.createParameter("password",this.password))),this.ticket&&!this.usertoken&&a.push(this.createParameter("ticket",this.ticket));for(var r in e.params){var i=e.params[r];"clist"==r||"slist"==r||"options"==r?("object"==typeof i&&(i=i.join(".")),!this.config||"clist"!=r&&"slist"!=r||i&&(i=this.replaceOptionFieldNames(i,t))):"query"==r&&(i=this.generateQuickbaseQuery(i),this.config&&(i=this.replaceFieldNames(i,t)),r="query"),i&&a.push(this.createParameter(r,i))}for(field in e.fieldParams){if(this.config&&"NaN"==parseInt(field).toString())var n=this.config.tables[t][field];else var n=field;var s=this.handleXMLCharacters(e.fieldParams[field]);a.push(this.createFieldParameter(n,s))}for(r in e.fidParams)a.push(this.createFidParameter(r,e.fidParams[r]));return e.csvData&&a.push(this.createCSVParameter(e.csvData)),a.push("</qdbapi>"),a=a.join(""),this.username||this.quickstartConfig?{xml:a}:a},this.getNode=function(t,e){return $(t).find(e).text()},this.getRecords=function(t,e){for(var a=$(e).find("records").find("record"),r=[],i=0;i<a.length;i++){var n=a[i],s=$(n).find("f");n={};for(var o=0;o<s.length;o++){var d=s[o],c=parseInt($(d).attr("id"));if(""!=$(d).find("url").text())var h=$(d).find("url").text(),u=h.split("/"),l=u[u.length-1],f={filename:l,url:h};else var f=$(d).text();if(this.config){var p=this.inverseTables[t];p[c]&&(c=p[c.toString()],n[c]=f)}else n[c]=f}r.push(n)}return r},this.getRids=function(t){for(var e=$(t).find("records").find("record"),a=[],r=0;r<e.length;r++){var i=e[r];a.push($(i).find('f[id="3"]').text())}return a},this.getNewRids=function(t){for(var e=$(t).find("rids").find("rid"),a=[],r=0;r<e.length;r++){var i=parseInt($(e[r]).text());a.push(i)}return a},this.getTableSchema=function(t){var e={dbid:"",tableName:"",keyFid:"",fields:this.getFields(t)},a=$(t);return e.dbid=a.find("table_id").text(),e.tableName=a.find("name").text(),e.keyFid=a.find("key_fid").text(),e},this.getAppSchemaInfo=function(t){for(var e=$(t),a=e.find("chdbid"),r=[],i=0;i<a.length;i++){var n=$(a[i]);r.push({name:n.attr("name"),dbid:n.text()})}return r},this.getFields=function(t){for(var e=$(t+", fields").find("field"),a={},r=0;r<e.length;r++){for(var i=$(e[r]),n={},s=0;s<e[r].attributes.length;s++){var o=e[r].attributes[s].name,d=e[r].attributes[s].value;"id"==o?n.fid=d:n[o]=d}i.children().each(function(t,e){var a=e.nodeName.toLowerCase(),r=e.innerText;"choices"!=a&&(n[a]=r)});var c=i.find("choices").find("choice");if(c.length>0){for(var h=[],s=0;s<c.length;s++){var u=$(c[s]).text();h.push(u)}n.choices=h}a[i.attr("id")]=n}return a},this.getReports=function(t){for(var e=$(t).find("queries").find("query"),a={},r=0;r<e.length;r++){var i=e[r],n={name:$(i).find("qyname").text(),type:$(i).find("qytype").text(),criteria:$(i).find("qycrit").text(),clist:$(i).find("qyclst").text(),slist:$(i).find("qyslst").text(),options:$(i).find("qyopts").text()};a[$(i).attr("id")]=n}return a},this.formatUserRoles=function(t){for(var e=$(t).find("users").find("user"),a=[],r=0;r<e.length;r++){for(var i=e[r],n=$(i).find("roles").find("role"),s=[],o=0;o<n.length;o++){var d=n[o],c={id:$(d).attr("id"),name:$(d).find("name").text(),accessId:$(d).find("access").attr("id"),access:$(d).find("access").text()};s.push(c)}var h={id:$(i).attr("id"),firstName:$(i).find("firstName").text(),lastName:$(i).find("lastName").text(),lastAccess:$(i).find("lastAccess").text(),lastAccessAppLocal:$(i).find("lastAccessAppLocal").text(),roles:s};a.push(h)}return a},this.createParameter=function(t,e){return"<"+t+">"+e+"</"+t+">"},this.createFieldParameter=function(t,e){var a="<field fid='"+t+"'";return e?e.filename?(a+=" filename='"+e.filename+"'>",a+=1==e.ignoreEncoding?e.body:this.base64Encode(e.body)):(a+=">",a+=e):a+=">",a+="</field>"},this.createFidParameter=function(t,e){return"<_fid_"+t+">"+e+"</_fid_"+t+">"},this.createCSVParameter=function(t){return"<records_csv><![CDATA["+t+"]]></records_csv>"},this.base64Encode=function(t){for(var e,a,r,i,n,s,o,d="",c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",h=0,u=t.replace(/\r\n/g,"\n"),l="",f=0;f<u.length;f++){var p=u.charCodeAt(f);128>p?l+=String.fromCharCode(p):p>127&&2048>p?(l+=String.fromCharCode(p>>6|192),l+=String.fromCharCode(63&p|128)):(l+=String.fromCharCode(p>>12|224),l+=String.fromCharCode(p>>6&63|128),l+=String.fromCharCode(63&p|128))}for(t=l;h<t.length;)e=t.charCodeAt(h++),a=t.charCodeAt(h++),r=t.charCodeAt(h++),i=e>>2,n=(3&e)<<4|a>>4,s=(15&a)<<2|r>>6,o=63&r,isNaN(a)?s=o=64:isNaN(r)&&(o=64),d=d+c.charAt(i)+c.charAt(n)+c.charAt(s)+c.charAt(o);return d},this.quickstartPost=function(t,e,a,r,i,n){if(n){var s={dbid:r,realm:this.realm,action:i,apptoken:this.apptoken};s.xml=t.xml,s.quickstartAction="Proxy",s.ticket=JSON.parse(BaseHelpers.getCookie("quickstart_session")).ticket}else var s=t;s=JSON.stringify(s);var o={url:this.proxies.quickstart,data:s,dataType:"text",type:"POST",contentType:"application/json"};if("callback"==this.async)o.success=function(t){return t=JSON.parse(t),t=t.data||t,e(t.error?t:a(t))},$.ajax(o);else if("promise"==this.async)return o.dataType="text",o.dataFilter=function(t){return t=JSON.parse(t),t=t.data||t,t.error?t:a(t)},$.ajax(o)},this.qbaseResponseCode=function(t){var e=$(t).find("errcode").text(),a=$(t).find("errtext").text();return a+=", "+$(t).find("errdetail").text(),{error:{code:e,message:a}}},this.xmlPost=function(t,e,a,r,i){if(this.quickstartConfig)return _self.quickstartPost(a,r,i,t,e,!0);var n="/db/"+t+"?act="+e,s={url:n,data:a,dataType:"xml",type:"POST",context:this,contentType:"text/xml"};if(this.username&&(a.realm=this.realm,a.call=e,a.apptoken=this.apptoken||"",a.dbid=t,s.dataType="text",s.contentType="application/json",s.url=this.proxies.local,s.data=JSON.stringify(a)),"callback"!=this.async){if("promise"==this.async)return s.dataType="text",s.dataFilter=function(t){var e=_self.qbaseResponseCode(t);return"0"!=e.error.code?e:i(t)},$.ajax(s);var o=null;return s.success=function(t){var e=this.qbaseResponseCode(t);o="0"!=e.error.code?e:i(t)},s.error=function(t){return r({error:{code:"503",message:"Service Unavailable."}})},s.async=!1,$.ajax(s),o}s.success=function(t){var e=this.qbaseResponseCode(t);return r("0"!=e.error.code?e:i(t))},s.error=function(t){return r({error:{code:"503",message:"Service Unavailable."}})},$.ajax(s)}}function Base(t){var e=new BaseConnect(t);this.baseConnectInstance=e,this.databaseId=t.databaseId,this.Table=function(t,a){this.removeQuickstartConfig=function(t){return delete t.quickstart_users,delete t.quickstart_username,delete t.quickstart_password,delete t.quickstart_key,t},e.config.quickstart&&(a=this.removeQuickstartConfig(a)),this[t]=a,this.tableName=t,this.dbid=a.dbid,this.doQuery=function(a,r,i,n){var s=this.tableName;this.handle=function(t){return e.getRecords(s,t,"records")};var o={fmt:"structured",returnpercentage:"1"};if(a){var d=!isNaN(a);d?o.qid=a:o.query=a}else o.query="{'3'.XEX.''}";if(r)var c=r.clist;else var r={};if(e.config&&!c){var h=e.config.tables[s],c=[];for(t in h){var u=h[t];isNaN(u)||c.push(t)}r.clist=c.join(".")}o.clist=r.clist,o.slist=r.slist,o.options=r.options;var l={dbid:s,action:"DoQuery",params:o};return n&&(this.handle=n),e.post(l,i,this.handle)},this.find=function(t,a){var r=this.tableName;if(this.handle=function(t){var a=e.getRecords(r,t,"records");return a.length>0?a.length>1?a:a[0]:{}},"[object Array]"==Object.prototype.toString.call(t))var i={3:{"in":t}};else var i={3:t};return this.doQuery(i,null,a,this.handle)},this.first=function(t,a,r){var i=this.tableName;return this.handle=function(t){var a=e.getRecords(i,t,"records");return a.length>0?a[0]:{}},this.doQuery(t,a,r,this.handle)},this.last=function(t,a,r){var i=this.tableName;return this.handle=function(t){var a=e.getRecords(i,t,"records");return a.length>0?a[a.length-1]:{}},this.doQuery(t,a,r,this.handle)},this.all=function(t,a){var r=this.tableName;return this.handle=function(t){var a=e.getRecords(r,t,"records");return a.length>0?a:{}},this.doQuery({3:{XEX:""}},t,a,this.handle)},this.getRids=function(t,a){return this.handle=function(t){return e.getRids(t)},params={clist:"3"},t||(t={3:{XEX:""}}),this.doQuery(t,params,a,this.handle)},this.doQueryCount=function(t,a){this.handle=function(t){return e.getNode(t,"numMatches")};var r={dbid:this.tableName,action:"DoQueryCount",params:{query:t}};return e.post(r,a,this.handle)},this.addRecord=function(t,a){this.handle=function(t){return parseInt(e.getNode(t,"rid"))};var r={dbid:this.tableName,action:"AddRecord",fieldParams:t};return e.post(r,a,this.handle)},this.editRecord=function(t,a,r){this.handle=function(t){var a=e.getNode(t,"rid");return!!a};var i={dbid:this.tableName,action:"EditRecord",fieldParams:a,params:{rid:t}};return e.post(i,r,this.handle)},this.changeRecordOwner=function(t,a,r){this.handle=function(t){return!0};var i={dbid:this.tableName,action:"ChangeRecordOwner",params:{rid:t,newowner:a}};return e.post(i,r,this.handle)},this.copyMasterDetail=function(t,a){this.handle=function(t){return e.getNode(t,"parentrid")};var r={dbid:this.tableName,action:"CopyMasterDetail",params:t};return e.post(r,a,this.handle)},this.getRecordInfo=function(t,a){this.handle=function(t){for(var a={},r=$(t).find("field"),i=0;i<r.length;i++){var n=r[i],s={name:e.getNode(n,"name"),type:e.getNode(n,"type"),value:e.getNode(n,"value")};a[$(n).find("fid").text()]=s}var o={rid:e.getNode(t,"rid"),num_fields:e.getNode(t,"num_fields"),update_id:e.getNode(t,"update_id"),fields:a};return o};var r={dbid:this.tableName,action:"GetRecordInfo",params:{rid:t}};return e.post(r,a,this.handle)},this.deleteRecord=function(t,a){this.handle=function(t){var a=e.getNode(t,"rid");return!!a};var r={dbid:this.tableName,action:"DeleteRecord",params:{rid:t}};return e.post(r,a,this.handle)},this.purgeRecords=function(t,a){this.handle=function(t){var a=e.getNode(t,"num_records_deleted");return parseInt(a)};var r={dbid:this.tableName,action:"PurgeRecords",params:{query:t}};return e.post(r,a,this.handle)},this.runImport=function(t,a){this.handle=function(t){var a=e.getNode(t,"import_status").match(/\d+/)[0];return parseInt(a)};var r={dbid:this.tableName,action:"RunImport",params:{id:t}};return e.post(r,a,this.handle)},this.importFromCSV=function(a,r){this.handle=function(t){return e.getNewRids(t)};var i="",n=[];for(t in a[0])e.config&&(tableConfig=e.config.tables[this.tableName],t=tableConfig[t]),n.push(t);n=n.join(".");for(var s=0;s<a.length;s++){var o=a[s],d=[];for(t in o)value=o[t],value=value.toString().replace(/"/g,'""'),d.push('"'+value+'"');d.join(","),d+="\n",i+=d}var c={dbid:this.tableName,action:"ImportFromCSV",params:{clist:n},csvData:i};return e.post(c,r,this.handle)},this.getTableFields=function(t){this.handle=function(t){return e.getTableSchema(t)};var a={dbid:this.tableName,action:"GetSchema"};return e.post(a,t,this.handle)},this.genAddRecordForm=function(t,a){this.handle=function(t){return t};var r={dbid:this.tableName,action:"GenAddRecordForm",fidParams:t};return e.post(r,a,this.handle)},this.getNumRecords=function(t){this.handle=function(t){return parseInt(e.getNode(t,"num_records"))};var a={dbid:this.tableName,action:"GetNumRecords"};return e.post(a,t,this.handle)},this.setFieldProperties=function(t,a,r){this.handle=function(t){var a=e.getNode(t,"errcode");return 0==a},a.fid=t;var i={dbid:this.tableName,action:"SetFieldProperties",params:a};return e.post(i,r,this.handle)},this.getTableReports=function(t){this.handle=function(t){return e.getReports(t)};var a={dbid:this.tableName,action:"GetSchema"};return e.post(a,t,this.handle)}},this.setTables=function(t){for(var e in t)this[e]=new this.Table(e,t[e])},this.setTables(t.tables),this.getAppTables=function(t){this.handle=function(t){return e.getAppSchemaInfo(t)};var a={dbid:this.databaseId,action:"GetSchema"};return e.post(a,t,this.handle)},this.getOneTimeTicket=function(t){this.handle=function(t){return e.getNode(t,"ticket")};var a={action:"GetOneTimeTicket"};return e.post(a,t,this.handle)},this.authenticate=function(t,a,r){this.handle=function(t){return e.getNode(t,"ticket")};var i={action:"Authenticate",params:{hours:a}};return t.ticket&&(i.params.ticket=t.ticket),t.username&&t.password&&(i.username=t.username,i.password=t.password),e.post(i,r,this.handle)},this.signOut=function(t){this.handle=function(t){var a=e.getNode(t,"errcode");return"0"==a};var a={action:"SignOut"};return e.post(a,t,this.handle)},this.getDBVar=function(t,a){this.handle=function(t){return e.getNode(t,"value")};var r={dbid:this.databaseId,action:"GetDBvar",params:{varname:t}};return e.post(r,a,this.handle)},this.setDBVar=function(t,a,r){this.handle=function(t){return!0};var i={dbid:this.databaseId,action:"SetDBvar",params:{varname:t,value:a}};return e.post(i,r,this.handle)},this.uploadPage=function(t,a,r,i){this.handle=function(t){return e.getNode(t,"pageID")};var n={pagetype:"1",pagebody:r};t?n.pageid=t:a&&(n.pagename=a);var s={dbid:this.databaseId,action:"AddReplaceDBPage",params:n};return e.post(s,i,this.handle)},this.deletePage=function(t,a){this.handle=function(t){var a=e.getNode(t,"errcode");return"0"==a};var r={dbid:this.databaseId,action:"PageDelete",type:"QBI",params:{pageid:t}};return e.post(r,a,this.handle)},this.getDbPage=function(t,a){this.handle=function(t){return e.getNode(t,"pagebody")};var r={dbid:this.databaseId,action:"GetDBPage",type:"API",params:{pageID:t}};return e.post(r,a,this.handle)},this.cloneDatabase=function(t,a){this.handle=function(t){return e.getNode(t,"newdbid")};var r={dbid:this.databaseId,action:"CloneDatabase",type:"API",params:t};return e.post(r,a,this.handle)},this.createDatabase=function(t,a,r,i){this.handle=function(t){return e.getNode(t,"dbid")};var n={action:"CreateDatabase",type:"API",params:{dbname:t,dbdesc:a,createapptoken:r||!1}};return e.post(n,i,this.handle)},this.deleteDatabase=function(t){this.handle=function(t){var a=e.getNode(t,"errcode");return"0"==a};var a={dbid:this.databaseId,action:"DeleteDatabase",type:"API"};return e.post(a,t,this.handle)},this.renameApp=function(t,a){this.handle=function(t){var a=e.getNode(t,"errcode");return"0"==a};var r={dbid:this.databaseId,action:"RenameApp",type:"API",params:{newappname:t}};return e.post(r,a,this.handle)},this.findDbByName=function(t,a){this.handle=function(t){return e.getNode(t,"dbid")};var r={action:"FindDBByName",type:"API",params:{dbname:t}};return e.post(r,a,this.handle)},this.getTables=function(t){this.handle=function(t){for(var e=$(t).find("chdbid"),a={},r=0;r<e.length;r++){var i=e[r],n=$(i).attr("name"),s=$(i).text();a[n]=s}return a};var a={dbid:this.databaseId,action:"GetSchema",type:"API"};return e.post(a,t,this.handle)},this.getAppDtmInfo=function(t){this.handle=function(t){for(var a={},r=$(t).find("tables").find("table"),i=0;i<r.length;i++){var n=r[i],s={lastModifiedTime:$(n).find("lastModifiedTime").text(),lastRecModTime:$(n).find("lastRecModTime").text()};a[$(n).attr("id")]=s}var o={requestTime:e.getNode(t,"RequestTime"),requestNextAllowedTime:e.getNode(t,"RequestNextAllowedTime"),lastModifiedTime:e.getNode(t,"lastModifiedTime"),lastRecModTime:e.getNode(t,"lastRecModTime"),tables:a};return o};var a={action:"GetAppDTMInfo",type:"API",params:{dbid:this.databaseId}};return e.post(a,t,this.handle)},this.getDbInfo=function(t){this.handle=function(t){var a={dbname:e.getNode(t,"dbname"),lastRecModTime:e.getNode(t,"lastRecModTime"),createdTime:e.getNode(t,"createdTime"),numRecords:e.getNode(t,"numRecords"),mgrID:e.getNode(t,"mgrID"),mgrName:e.getNode(t,"mgrName"),version:e.getNode(t,"version"),time_zone:e.getNode(t,"time_zone")};return a};var a={dbid:this.databaseId,action:"GetDBInfo",type:"API"};return e.post(a,t,this.handle)},this.grantedDbs=function(t,a){this.handle=function(t){for(var a=[],r=$(t).find("databases").find("dbinfo"),i=0;i<r.length;i++){var n=r[i],s={dbname:e.getNode(n,"dbname"),dbid:e.getNode(n,"dbid")};a.push(s)}return a};var r={action:"GrantedDBs",type:"API",params:t};return e.post(r,a,this.handle)},this.getUserInfo=function(t,a,r){this.handle=function(t){var e=$(t).find("user");return e={id:$(e).attr("id"),firstName:$(e).find("firstName").text(),lastName:$(e).find("lastName").text(),login:$(e).find("login").text(),email:$(e).find("email").text(),screenName:$(e).find("screenName").text(),isVerified:$(e).find("isVerified").text(),externalAuth:$(e).find("externalAuth").text()}},t||(t="");var i={dbid:"main",action:"GetUserInfo",params:{email:t}};return e.post(i,a,this.handle)},this.getUserRoles=function(t){this.handle=function(t){return e.formatUserRoles(t)};var a={dbid:this.databaseId,action:"UserRoles"};return e.post(a,t,this.handle)},this.changeUserRole=function(t,a,r,i){this.handle=function(t){return!0};var n={dbid:this.databaseId,action:"ChangeUserRole",params:{userId:t,roleId:a}};return r&&(n.params.newRoleId=r),e.post(n,i,this.handle)},this.quickstart={register:function(e,a){return this.handler=function(t){return t.ticket?BaseHelpers.setCookie("quickstart_session",JSON.stringify(t),12):BaseHelpers.setCookie("quickstart_session","",-1),t},e.quickstartAction="Register",e.appToken=t.apptoken,e.realm=t.realm,e.dbid=t.databaseId,_self.quickstartPost(e,a,this.handler)},signIn:function(e,a){return this.handler=function(t){return t.ticket?BaseHelpers.setCookie("quickstart_session",JSON.stringify(t),12):BaseHelpers.setCookie("quickstart_session","",-1),t},e.quickstartAction="SignIn",e.appToken=t.apptoken,e.realm=t.realm,e.dbid=t.databaseId,_self.quickstartPost(e,a,this.handler)},signOut:function(t){BaseHelpers.setCookie("quickstart_session","",-1),t&&t(!0)},changePassword:function(e,a){return this.handler=function(t){return t},e.quickstartAction="ChangePassword",e.ticket=JSON.parse(BaseHelpers.getCookie("quickstart_session")).ticket,e.realm=t.realm,e.dbid=t.databaseId,_self.quickstartPost(e,a,this.handler)},forgotPassword:function(e,a){this.handler=function(t){return t};var r={email:e};return r.quickstartAction="ForgotPassword",r.realm=t.realm,r.dbid=t.databaseId,r.appToken=t.apptoken,_self.quickstartPost(r,a,this.handler)},resetPassword:function(e,a){return this.handler=function(t){return t},e.quickstartAction="ResetPassword",e.realm=t.realm,e.dbid=t.databaseId,e.appToken=t.apptoken,_self.quickstartPost(e,a,this.handler)}}}var BaseHelpers={options:{timeZone:"utc",format:"hours"},setCookie:function(t,e,a){var r=new Date;r.setTime(r.getTime()+60*a*60*1e3);var i="expires="+r.toUTCString();document.cookie=t+"="+e+"; "+i},getCookie:function(t){for(var t=t+"=",e=document.cookie.split(";"),a=0;a<e.length;a++){for(var r=e[a];" "==r.charAt(0);)r=r.substring(1);if(0==r.indexOf(t))return r.substring(t.length,r.length)}return""},inverseTables:function(t){var e={};for(var a in t){var r={};for(var i in t[a])r[t[a][i].toString()]=i;e[a]=r}return e},getUrlParam:function(t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var e=new RegExp("[\\?&]"+t+"=([^&#]*)"),a=e.exec(location.search);return null==a?"":decodeURIComponent(a[1].replace(/\+/g," "))},formatDateElement:function(t){return t=t.toString(),1==t.length&&(t="0"+t),t},dateToString:function(t){if(t){var e=new Date(parseInt(t)),a=this.formatDateElement(e.getUTCMonth()+1),r=this.formatDateElement(e.getUTCDate());return e=[a,r,e.getUTCFullYear()].join("-")}return" "},dateTimeToString:function(t,e){var a=new Date,e=e?e.toLowerCase().trim():this.options.timeZone.toLowerCase();Date.prototype.stdTimezoneOffset=function(){var t=new Date(this.getFullYear(),0,1),e=new Date(this.getFullYear(),6,1);return Math.max(t.getTimezoneOffset(),e.getTimezoneOffset())},Date.prototype.dst=function(){return this.getTimezoneOffset()<this.stdTimezoneOffset()};var r={utc:0,eastern:a.dst()?-4:-5,central:a.dst()?-5:-6,mountain:a.dst()?-6:-7,pacific:a.dst()?-7:-8},i=r[e];if(t){var n=new Date(parseInt(t)+36e5*i),s=(this.formatDateElement(n.getUTCFullYear),this.formatDateElement(n.getUTCMonth()+1)),o=this.formatDateElement(n.getUTCDate()),d=this.formatDateElement(n.getUTCHours()),c=this.formatDateElement(n.getUTCMinutes()),h=(this.formatDateElement(n.getUTCSeconds()),[s,o,n.getUTCFullYear()].join("-")),u=parseInt(d)>=12?"PM":"AM";return d%=12,d=d?d:12,h+=" ",h+=[d,c].join(":"),h+=" "+u}return""},durationToString:function(t,e){var a,r=parseInt(t),e=e?e.trim().toLowerCase():this.options.format.toLowerCase(),i={days:function(){return r/864e5},hours:function(){return r/36e5},minutes:function(){return r/6e4},seconds:function(){return r/1e3}};return t?(i[e]?a=i[e]():(a=i.hours(),console.log("The format parameter passed to BaseHelpers.durationToString() was incorrect. Using the format for 'hours' instead.")),a=Math.round(100*a)/100,a.toString()):""},timeOfDayToString:function(t){var e="";e=new Date,e.setHours(""),e.setMinutes(""),e.setSeconds(""),e.setMilliseconds(t);var a=e.getHours().toString(),r=e.getMinutes().toString(),i=a>12?"pm":"am";return a%=12,a=a?a:12,r=r.length>1?r:"0"+r,e=a+":"+r+" "+i},redirectToEditForm:function(t,e,a){var a=a||"";window.location=a+"/db/"+t+"?a=er&rid="+e},redirectToViewForm:function(t,e,a){var a=a||"";window.location=a+"/db/"+t+"?a=dr&rid="+e},downloadFile:function(t,e,a,r){var r=r||0;window.location="https://www.quickbase.com/up/"+t+"/a/r"+e+"/e"+a+"/v"+r}};
//# sourceMappingURL=maps/base.min.js.map
