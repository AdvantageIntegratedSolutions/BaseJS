<html>
	<head>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.23/angular.min.js"></script>
		<script type="text/javascript" src="https://ais.quickbase.com/db/bjbsgxy2r?a=dbpage&pageID=3"></script>
		<link rel="stylesheet" type="text/css" href="https://ais.quickbase.com/db/bjbsgxy2r?a=dbpage&pageID=4">

		<script>
			$(document).ready(function(){		
				//Initiate connection to application
				var config = {
					main: {
						dbid: "bjbsgxy2r",
						rid: 3
					},

					teachers: {
						dbid: "bjbsgxy3t",
						rid: 3,
						firstName: 8,
						lastName: 9
					}
				};

				var client = new Base({
					token: "cgfsmfcdc5vyp5k5s7h6b6v3m9v",
					async: false,
					config: config
				});

				//Get Ticket
				// var ticket = client.getOneTimeTicket();
				// console.log("TICKET: " + ticket);

				// var ticket = client.authenticate(ticket, 1);
				// console.log("AUTH TICKET: " + ticket);

				// var dbid = client.findDbByName("BaseJS Testing");
				// console.log("FindDBByName: " + dbid);

				// var ancestorInfo = client.getAncestorInfo("main");
				// console.log(ancestorInfo);

				// var dbInfo = client.getDbInfo("main");
				// console.log(dbInfo);

				// var genAddRecordForm = client.genAddRecordForm("teachers", {"8": "test"});
				// console.log(genAddRecordForm);

				// var grantedDbs = client.grantedDbs();
				// console.log(grantedDbs);

				// var dtmInfo = client.getAppDtmInfo("main");
				// console.log(dtmInfo);

				// var variable = client.setDBVar("main", "test", "hello world");
				// console.log("SET VAR: " + variable);
				// var variableValue = client.getDBVar("main", "test");
				// console.log("GET VAR: " + variableValue);

				// var pageId = client.uploadPage("main", null, "test.txt", "asdfadsf");
				// console.log("UPLOAD PAGE: " + pageId);

				// var htmlPage = client.getDbPage("main", pageId);
				// console.log(htmlPage);

				// var success = client.deletePage("main", pageId);
				// console.log("DELETE PAGE: " + success);

				//Get User Info
				// var response = client.getUserInfo("zsiglin@advantagequickbase.com");
				// console.log("USER INFO: " + response["id"]);

				// //Get User Roles
				// var response = client.getUserRoles("main");
				// console.log(response);

				// var response = client.changeUserRole("main", "58755660.cwj9", "12", "11");
				// console.log(response);

				//Add Record
				// var newRecordHash = { firstName: "Mike&Ike", lastName: "Johnson" }
				// var rid = client.addRecord("teachers", newRecordHash);
				// console.log("ADD RECORD: " + rid);

				// var newRecordHash = { 8: "Mike", 9: "Johnson"}
				// var rid2 = client.addRecord("bjbsgxy3t", newRecordHash);

				// var numberOfRecords = client.getNumRecords(demoDbid);
				// console.log(numberOfRecords);

				//Edit Record
				// var editRecordHash = { firstName: "Stephan", lastName: "Smith" }
				// var response = client.editRecord("teachers", "3894", editRecordHash);
				// console.log("EDIT RECORD: " + response);

				// var response = client.changeRecordOwner("teachers", "3894", "zsiglin@advantagequickbase.com");
				// console.log("CHANGE RECORD OWNER: " + response);

				// var response = client.copyMasterDetail("teachers", {destrid: "0", sourcerid: "3894", copyfid: "8"});
				// console.log("COPY RECORDS: " + response);

				// //Find
				// var response = client.find("teachers", "3894");
				// console.log("FIND: " + response);

				// var response = client.getRecordInfo("teachers", "3894");
				// console.log("GetRecordInfo:")
				// console.log(response);

				// var response = client.find("teachers", ["3894", "3895"]);
				// console.log("FIND 2: " + response);

				// var response = client.first("teachers", {"query": "{'rid'.XEX.''}", "clist": "3"});
				// console.log("FIRST: " + response);

				// var response = client.last("teachers", {"query": "{'rid'.XEX.''}", "clist": "rid"});
				// console.log("LAST: " + response);

				//DoQuery
				// var query = {rid: { XEX: 3 }, firstName: "Kit", age: {OBF: "1970"}};

				// var response = client.doQuery("teachers", {"query": query, "clist": "rid"})
				// console.log(response)

				//var query = { or: [{ firstName: "Kit"}, {lastName: "Hensel"}] }

				var queries = [
					{ firstName: "Kit" },
					{ firstName: { XEX: "Kit" } },
					{ firstName: "Kit", lastName: "Hensel" },
					{ or: [{ firstName: "Kit" }, { lastName: "Hensel" }] },
					{ or: [{ firstName: { XEX: "Kit"} }, { lastName: "Hensel" }] },
					{ or: [{ firstName: { CT: "Kit"} }, { lastName: "Hensel" }, { firstName: { CT: "Jack" } }] },
					{ firstName: "Kit", or: [{ lastName: "Hensel" }, {age: 28}] },
					{ firstName: "Kit", or: [{ lastName: "Hensel" }, {age: 28}], rid: 3 },
					{ firstName: { in: ["Kit", "Jack"]}}
				];

				queries.forEach(function(query){
					var response = client.doQuery("teachers", {"query": query, "clist": "rid"})
					console.log(response)
				});

				// var qid = "1"
				// var response = client.doQuery("teachers", {"qid": qid, "clist": ["rid"]})
				// console.log("QUERY 2: " + response);

				// var response = client.all("teachers");
				// console.log(response);

				// var response = client.getRids("teachers")
				// console.log("FIND RIDS: " + response);

				// var dateCreated = BaseHelpers.dateToString(response[0]["1"]);
				// var dateModified = BaseHelpers.dateTimeToString(response[0]["2"]);
				// var totalHours = BaseHelpers.durationToString(response[0]["14"]);
				// var timeOfDay = BaseHelpers.timeOfDayToString(response[0]["15"]);

				// console.log("DATE CREATED: " + dateCreated);
				// console.log("DATE MODIFIED: " + dateModified);
				// console.log("TOTAL HOURS: " + totalHours);
				// console.log("TIME OF DAY: " + timeOfDay);

				// //DoQueryCount
				// var query = "{'rid'.XEX.''}"
				// var response = client.doQueryCount("teachers", query)
				// console.log("DO QUERY COUNT: " + response);

				// //Delete Record
				// var response = client.deleteRecord("teachers", "3894");
				// console.log("DELETE: " + response);

				// var csvArray = [
				// 	{ firstName: 'Mike"s', lastName: "John>s&o<n" },
				// 	{ firstName: "Step,hani'e", lastName: "Wallace" },
				// 	{ firstName: "Jackson", lastName: "Williams" },
				// 	{ firstName: "Martin", lastName: "Douglas" }
				// ]
				// var response = client.importFromCSV("teachers", csvArray);
				// console.log("IMPORT: " + response);

				//Delete Mass Records
				// var response = client.purgeRecords("teachers", "{'rid'.XEX.''}")
				// console.log("PURGE: " + response);

				// //Get Table Fields
				// var response = client.getTableFields("teachers");
			});

		</script>
	</head>

	<body></body>
</html>